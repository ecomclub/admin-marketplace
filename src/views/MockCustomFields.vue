<template>
  <div class="container">
    <h3>Formulário costumizado</h3>
    <!-- <input-text name="teste" :schema="{}" v-model="otherData.inputText"/> -->
    <!-- <input-enum name="teste" value="teste" :schema="{enum: ['item1', 'item2']}" v-model="otherData.inputEnum"/>
    <input-money name="teste" :schema="{}" v-model="otherData.inputMoney"/>
    <input-number name="teste" :schema="{}" v-model="otherData.inputNumber"/>
    <input-phone name="teste" :schema="{}" v-model="otherData.inputPhone"/>-->
    <ec-dynamic-form :application="schema"></ec-dynamic-form>
    <hr />
    {{schema}}
  </div>
</template>

<script>
import EcDynamicForm from "../components/EcDynamicForm.vue";
import InputText from "../components/_inputs/InputText.vue";
import InputEnum from "../components/_inputs/InputEnum.vue";
import InputMoney from "../components/_inputs/InputMoney.vue";
import InputNumber from "../components/_inputs/InputNumber.vue";
import InputPhone from "../components/_inputs/InputPhone.vue";
export default {
  name: "MockCustomFields",
  components: {
    EcDynamicForm,
    InputText,
    InputEnum,
    InputMoney,
    InputNumber,
    InputPhone
  },
  data: () => {
    return {
      otherData: {},
      schema: {
        admin_settings: {
          receipt: {
            schema: {
              title: "Aviso de Recebimento",
              type: "boolean",
              default: false,
              description:
                "Aviso de Recebimento está disponível para os Correios e para as transportadoras privadas. Marcando esta opção, o entregador deve obter as informações de quem receber a encomenda no destino, permitindo ao remetente comprovar o recebimento do volume. Esse é um serviço adicional e pode, ou não, alterar o valor do envio."
            },
            hide: false
          },
          own_hand: {
            schema: {
              title: "Mão própria",
              type: "boolean",
              default: false,
              description:
                "Marcando esta opção, você garante que apenas o destinatário possa receber a encomenda. Esse é um serviço adicional e deve alterar o valor do envio. No momento, a modalidade Mini não possui a possibilidade de contratação do serviço de Mão Própria."
            },
            hide: false
          },
          jadlog_agency: {
            schema: {
              title: "Agência Jadlog",
              type: "interge",
              description:
                "Agência da transportadora jadlog que fará a coleta das encomendas"
            },
            hide: false
          },
          sort_services: {
            schema: {
              title: "Ordem dos serviços",
              type: "string",
              description:
                "Para ordernar o resultado dos serviços do menor prazo de envio para o maior selecione `-delivery` caso contrário selecione a opção `delivery`. Se preferir ordernar o resultado do cálculo do frete do menor preço para maior use `-price`, do contrário selecione `price`.",
              enum: ["-price", "price", "-delivery", "delivery"]
            },
            hide: false
          },
          posting_deadline: {
            schema: {
              title: "Prazo de postagem",
              type: "object",
              required: ["days"],
              additionalProperties: false,
              properties: {
                days: {
                  type: "integer",
                  minimum: 0,
                  maximum: 999999,
                  title: "Número de dias",
                  description:
                    "Dias de prazo para postar os produtos após a compra"
                },
                working_days: {
                  type: "boolean",
                  default: true,
                  title: "Dias úteis"
                },
                after_approval: {
                  type: "boolean",
                  default: true,
                  title: "Após aprovação do pagamento"
                }
              }
            },
            hide: false
          },
          additional_price: {
            schema: {
              type: "number",
              minimum: -999999,
              maximum: 999999,
              title: "Custo adicional",
              description:
                "Valor a adicionar (negativo para descontar) no frete calculado via Correios"
            },
            hide: false
          },
          shipping_rules: {
            schema: {
              title: "Regras de envio",
              description:
                "Aplicar descontos/adicionais condicionados ou desabilitar regiões",
              type: "array",
              maxItems: 300,
              items: {
                title: "Regra de envio",
                type: "object",
                minProperties: 1,
                properties: {
                  service_code: {
                    type: "string",
                    maxLength: 9,
                    pattern: "^[0-9]+$",
                    title: "Código do serviço"
                  },
                  zip_range: {
                    title: "Faixa de CEP",
                    type: "object",
                    required: ["min", "max"],
                    properties: {
                      min: {
                        type: "integer",
                        minimum: 10000,
                        maximum: 999999999,
                        title: "CEP inicial"
                      },
                      max: {
                        type: "integer",
                        minimum: 10000,
                        maximum: 999999999,
                        title: "CEP final"
                      }
                    }
                  },
                  min_amount: {
                    type: "number",
                    minimum: 1,
                    maximum: 999999999,
                    title: "Valor mínimo da compra"
                  },
                  free_shipping: {
                    type: "boolean",
                    default: false,
                    title: "Frete grátis"
                  },
                  discount: {
                    title: "Desconto",
                    type: "object",
                    required: ["value"],
                    properties: {
                      percentage: {
                        type: "boolean",
                        default: false,
                        title: "Desconto percentual"
                      },
                      value: {
                        type: "number",
                        minimum: -99999999,
                        maximum: 99999999,
                        title: "Valor do desconto",
                        description:
                          "Valor percentual/fixo do desconto ou acréscimo (negativo)"
                      }
                    }
                  }
                }
              }
            },
            hide: false
          },
          unavailable_for: {
            schema: {
              type: "array",
              title: "Desativar serviços",
              description:
                "É possível desabilitar determinados serviços de envio para determinadas faixas de cep ou para todo o Brasil.",
              items: {
                type: "object",
                required: ["states", "services"],
                properties: {
                  states: {
                    type: "array",
                    title: "Faixa de Cep",
                    description:
                      "Faixa de códigos postais para qual serão desabalitados os serviços.",
                    items: {
                      type: "object",
                      required: ["from", "to"],
                      properties: {
                        from: {
                          type: "string",
                          title: "Cep inicial",
                          description:
                            "Cep inicial para desabilitar determinado serviço de envio - ex: 31920-310"
                        },
                        to: {
                          type: "string",
                          title: "Cep final",
                          description:
                            "Cep final para desabilitar determinado serviço de envio - ex: 31920-310"
                        }
                      }
                    }
                  },
                  services: {
                    type: "array",
                    title: "Serviços",
                    description: "Serviços que podem ser desabilitados",
                    items: {
                      type: "string",
                      description:
                        "Caso algum serviço seja selecionado e nenhuma faixa de cep seja informada, o serviço estará indisponível para todo Brasil.",
                      title: "Opções",
                      enum: ["PAC", ".Package", "EXPRESSO", ".Com"]
                    }
                  }
                }
              }
            },
            hide: false
          },
          access_token: {
            schema: {
              title: "Melhor Envio Token",
              type: "string",
              description: "Token vinculado a sua conta no melhor envio."
            },
            hide: true
          }
        }
      }
    };
  }
};
</script>